{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","src","logo","alt","CurrentUserContext","createContext","Card","props","currentUser","React","useContext","card","isOwner","owner","_id","cardLikeButtonClassName","likes","some","i","type","onClick","onCardDelete","style","backgroundImage","link","onCardClick","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","id","key","Footer","PopupWithForm","isOpen","evt","target","classList","contains","onClose","action","noValidate","onSubmit","title","children","data-text","buttonText","EditProfilePopup","useState","setName","description","setDescription","handleChange","e","value","useEffect","preventDefault","onUpdateUser","required","pattern","placeholder","onChange","minLength","maxLength","EditAvatarPopup","input","useRef","onUpdateAvatar","current","ref","AddPlacePopup","linkInput","nameInput","ImagePopup","api","options","this","request","Promise","all","getInitialCards","getUserInfo","cardId","formData","JSON","stringify","method","body","fetch","baseUrl","headers","then","res","ok","json","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setCardsOnLike","newCard","newCards","c","closeAllPopups","handleEscKey","data","catch","console","log","document","addEventListener","removeEventListener","Provider","delCard","filter","removeLike","addLike","user","updateUserInfo","postNewCard","avatarUrl","updateAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.d226aa7f.chunk.js","sourcesContent":["import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n\t\t\t\t<img src={logo} alt=\"logo\" className=\"header__logo\" />\n\t\t\t</header>\n  );\n}\n\nexport default Header;","import {createContext} from 'react';\n\nexport const CurrentUserContext = createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\tconst card = props.card;\n\tconst isOwner = card.owner._id === currentUser._id;\n\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\tconst cardLikeButtonClassName = isLiked\n\t\t? \"card__like card__like_active\"\n\t\t: \"card__like\";\n\n\tfunction handleClick() {\n\t\tprops.onCardClick(card);\n\t}\n\n\tfunction handleLikeClick() {\n\t\tprops.onCardLike(card);\n\t}\n\n\tfunction handleDeleteClick() {\n\t\tprops.onCardDelete(card);\n\t}\n\n\treturn (\n\t\t<li className=\"card\">\n\t\t\t{isOwner ? (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"button card__del\"\n\t\t\t\t\tonClick={handleDeleteClick}\n\t\t\t\t></button>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t\t<div\n\t\t\t\tclassName=\"card__img\"\n\t\t\t\tstyle={{ backgroundImage: `url(${card.link})` }}\n\t\t\t\tonClick={handleClick}\n\t\t\t></div>\n\t\t\t<div className=\"card__description-wrapper\">\n\t\t\t\t<h2 className=\"card__title\">{card.name}</h2>\n\t\t\t\t<div className=\"card__likes-container\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`${cardLikeButtonClassName} button `}\n\t\t\t\t\t\tonClick={handleLikeClick}\n\t\t\t\t\t></button>\n\t\t\t\t\t<p className=\"card__likes\">{card.likes.length}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\t\n\n\treturn (\n\t\t<main>\n\t\t\t<section className=\"profile page__section\">\n\t\t\t\t<div className=\"media\">\n\t\t\t\t\t<div className=\"media__image-container\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"profile\"\n\t\t\t\t\t\t\tclassName=\"media__image\"\n\t\t\t\t\t\t\tsrc={currentUser.avatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={props.onEditAvatar}\n\t\t\t\t\t\t\tclassName=\"media__btn media__btn_size_lg media__btn_hoverable\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"media__body\">\n\t\t\t\t\t\t<div className=\"media__item\">\n\t\t\t\t\t\t\t<h1 className=\"media__name\">{currentUser.name}</h1>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={props.onEditProfile}\n\t\t\t\t\t\t\t\tclassName=\"media__btn media__btn_size_sm button\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"media__job\">{currentUser.about}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tonClick={props.onAddPlace}\n\t\t\t\t\tclassName=\"profile__btn button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t></button>\n\t\t\t</section>\n\t\t\t<ul className=\"gallery page__section\">\n\t\t\t\t{props.cards.map((card, id) => (\n\t\t\t\t\t<Card\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tcard={card}\n\t\t\t\t\t\tonCardDelete={props.onCardDelete}\n\t\t\t\t\t\tonCardClick={props.onCardClick}\n\t\t\t\t\t\tonCardLike={props.onCardLike}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</main>\n\t);\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n\treturn (\n\t\t<footer className=\"footer page__section\">\n\t\t\t<p className=\"footer__copyright\">&#169; 2020 Around The U.S.</p>\n\t\t</footer>\n\t);\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\tfunction handleOverlayClick(evt) {\n\t\tif (evt.target.classList.contains(\"popup_role_show\")) {\n\t\t\tprops.onClose();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`popup popup_background_light js-popup-${props.name} ${\n\t\t\t\tprops.isOpen ? \"popup_role_show\" : \"popup_role_fade-out\"\n\t\t\t}`}\n\t\t\tonClick={handleOverlayClick}\n\t\t>\n\t\t\t<div className=\"popup__container popup__container_type_form\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"popup__btn-close button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={props.onClose}\n\t\t\t\t></button>\n\t\t\t\t<form\n\t\t\t\t\tclassName=\"form\"\n\t\t\t\t\taction=\"#\"\n\t\t\t\t\tnoValidate\n\t\t\t\t\tname={props.name}\n\t\t\t\t\tonSubmit={props.onSubmit}\n\t\t\t\t>\n\t\t\t\t\t<h2 className=\"form__title\">{props.title}</h2>\n\t\t\t\t\t{props.children}\n\t\t\t\t\t<button className=\"form__submit-btn\" type=\"submit\" data-text=\"Save\">\n\t\t\t\t\t\t{props.buttonText}\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\tconst [name, setName] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst currentUser = useContext(CurrentUserContext);\n\n\tfunction handleChange(e) {\n\t\tconst { name, value } = e.target;\n\t\tswitch (name) {\n\t\t\tcase \"name\":\n\t\t\t\tsetName(value);\n\t\t\t\tbreak;\n\t\t\tcase \"about\":\n\t\t\t\tsetDescription(value);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tprops.onUpdateUser({\n\t\t\tname,\n\t\t\tabout: description,\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (currentUser.name) {\n\t\t\tsetName(currentUser.name);\n\t\t}\n\t\tif (currentUser.about) {\n\t\t\tsetDescription(currentUser.about);\n\t\t}\n\t}, [currentUser]);\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"profile\"\n\t\t\ttitle=\"Edit profile\"\n\t\t\tbuttonText=\"Save\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\trequired\n\t\t\t\tpattern=\"[a-zA-Z\\s\\-]+\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={name}\n\t\t\t\tclassName=\"form__input js-input-name\"\n\t\t\t\tname=\"name\"\n\t\t\t\tplaceholder=\"Name\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"40\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\trequired\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={description}\n\t\t\t\tclassName=\"form__input js-input-job\"\n\t\t\t\tname=\"about\"\n\t\t\t\tplaceholder=\"About me\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"200\"\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\tconst input = useRef(null);\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tprops.onUpdateAvatar({\n\t\t\tavatar: input.current.value,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"change-avatar\"\n\t\t\ttitle=\"Change profile picture\"\n\t\t\tbuttonText=\"Save\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype=\"url\"\n\t\t\t\tclassName=\"form__input js-input-link\"\n\t\t\t\tname=\"avatar\"\n\t\t\t\tplaceholder=\"Url\"\n\t\t\t\tref={input}\n\t\t\t\trequired\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default EditAvatarPopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\tconst linkInput = useRef(null);\n\tconst nameInput = useRef(null);\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tprops.onAddPlace({\n\t\t\tname: nameInput.current.value,\n\t\t\tlink: linkInput.current.value,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"photo-form\"\n\t\t\ttitle=\"New Place\"\n\t\t\tbuttonText=\"Create\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tref={nameInput}\n\t\t\t\tclassName=\"form__input js-input-title\"\n\t\t\t\tname=\"name\"\n\t\t\t\tplaceholder=\"Title\"\n\t\t\t\tminLength=\"1\"\n\t\t\t\tmaxLength=\"30\"\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<input\n\t\t\t\tref={linkInput}\n\t\t\t\ttype=\"url\"\n\t\t\t\tclassName=\"form__input js-input-link\"\n\t\t\t\tname=\"link\"\n\t\t\t\tplaceholder=\"Image link\"\n\t\t\t\trequired\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n\tfunction handleOverlayClick(evt) {\n\t\tif (evt.target.classList.contains(\"popup_role_show\")) {\n\t\t\tprops.onClose();\n\t\t}\n\t}\n\tconst card = props.card;\n\treturn (\n\t\t<div\n\t\t\tclassName={`popup popup_background_dark js-popup-picture ${\n\t\t\t\tprops.isOpen ? \"popup_role_show\" : \"popup_role_fade-out\"\n\t\t\t}`}\n\t\t\tonClick={handleOverlayClick}\n\t\t>\n\t\t\t<div className=\"popup__container popup__container_type_picture\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"popup__btn-close button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={props.onClose}\n\t\t\t\t></button>\n\t\t\t\t<img className=\"popup__image\" src={card.link} alt={card.name} />\n\t\t\t\t<h2 className=\"popup__title\">{card.name}</h2>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default ImagePopup;\n","\nclass Api {\n  constructor(options) {\n    this.options = options;\n  }\n\n  getInitialCards() {\n    return this.request(\"/cards\");\n  }\n\n  getUserInfo() {\n    return this.request(\"/users/me\");\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n\n  addLike(cardId) {\n    return this.request(`/cards/likes/${cardId}`, \"PUT\");\n  }\n\n  removeLike(cardId) {\n    return this.request(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n\n  delCard(cardId) {\n    return this.request(`/cards/${cardId}`, \"DELETE\");\n  }\n\n  updateUserInfo(formData) {\n    return this.request(\n      \"/users/me\",\n      \"PATCH\",\n      JSON.stringify({\n        name: formData.name,\n        about: formData.about,\n      })\n    );\n  }\n\n  updateAvatar(formData) {\n    return this.request(\n      \"/users/me/avatar\",\n      \"PATCH\",\n      JSON.stringify({ avatar: formData.avatar })\n    );\n  }\n\n  postNewCard(formData) {\n    return this.request(\n      \"/cards/\",\n      \"POST\",\n      JSON.stringify({\n        name: formData.name,\n        link: formData.link,\n      })\n    );\n  }\n\n  request(api, method, body) {\n    return fetch(`${this.options.baseUrl}${api}`, {\n      headers: this.options.headers,\n      method,\n      body,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-2\",\n  headers: {\n    authorization: \"2ea24103-3839-4671-8e47-57675e6fba9c\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;","import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\tconst [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n\tconst [selectedCard, setSelectedCard] = useState(0);\n\tconst [currentUser, setCurrentUser] = useState({});\n\tconst [cards, setCards] = useState([]);\n\n\tfunction handleCardLike(card) {\n\t\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n\t\tif (isLiked) {\n\t\t\tapi.removeLike(card._id).then((newCard) => {\n\t\t\t\tsetCardsOnLike(card._id, newCard);\n\t\t\t});\n\t\t} else {\n\t\t\tapi.addLike(card._id).then((newCard) => {\n\t\t\t\tsetCardsOnLike(card._id, newCard);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction setCardsOnLike(cardId, newCard) {\n\t\tconst newCards = cards.map((c) => (c._id === cardId ? newCard : c));\n\t\tsetCards(newCards);\n\t}\n\n\tfunction handleCardDelete(card) {\n\t\tapi.delCard(card._id).then((res) => {\n\t\t\tconst newCards = cards.filter((c) => c._id !== card._id);\n\t\t\tsetCards(newCards);\n\t\t});\n\t}\n\n\tfunction handleAddPlaceSubmit(formData) {\n\t\tapi\n\t\t\t.postNewCard(formData)\n\t\t\t.then((newCard) => {\n\t\t\t\tsetCards([newCard, ...cards]);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tconsole.log(cards);\n\t\tcloseAllPopups();\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetSelectedCard(card);\n\t\tsetIsImagePopupOpen(true);\n\t}\n\n\t// function handleDelCardClick() {\n\t// \tsetIsDelCardPopupOpen(true);\n\t// }\n\n\tfunction handleEditAvatarClick() {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetIsEditProfilePopupOpen(true);\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetIsAddPlacePopupOpen(true);\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsImagePopupOpen(false);\n\t\tsetSelectedCard(0);\n\t}\n\n\tfunction handleEscKey(evt) {\n\t\tif (evt.key === \"Escape\") {\n\t\t\tcloseAllPopups();\n\t\t}\n\t}\n\n\tfunction handleUpdateUser(user) {\n\t\tapi\n\t\t\t.updateUserInfo(user)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tcloseAllPopups();\n\t}\n\n\tfunction handleUpdateAvatar(avatarUrl) {\n\t\tapi\n\t\t\t.updateAvatar(avatarUrl)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tcloseAllPopups();\n\t}\n\n\tuseEffect(() => {\n\t\tapi\n\t\t\t.getUserInfo()\n\t\t\t.then((data) => {\n\t\t\t\tsetCurrentUser(data);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tapi\n\t\t\t.getInitialCards()\n\t\t\t.then((cards) => {\n\t\t\t\tsetCards(cards);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keydown\", handleEscKey);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"keydown\", handleEscKey);\n\t\t};\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<Header />\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Main\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\tcards={cards}\n\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t/>\n\t\t\t\t<Footer />\n\t\t\t\t<EditProfilePopup\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t/>\n\t\t\t\t<AddPlacePopup\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t/>\n\t\t\t\t<EditAvatarPopup\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t/>\n\t\t\t\t<ImagePopup\n\t\t\t\t\tisOpen={isImagePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tcard={selectedCard}\n\t\t\t\t/>\n\t\t\t</CurrentUserContext.Provider>\n\t\t</>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './pages/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.8f7611ae.svg\";"],"sourceRoot":""}